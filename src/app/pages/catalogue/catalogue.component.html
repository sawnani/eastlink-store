<main class="p-6 bg-white min-h-screen" aria-labelledby="catalogue-title">
  <h2
    id="catalogue-title"
    class="text-3xl md:text-4xl font-bold text-center text-eastlink-blue mb-10">
    Our Collection
  </h2>

  <!-- Search Form -->
  <form class="mb-6 flex justify-center" role="search" aria-label="Search products">
    <label for="product-search" class="sr-only">Search products</label>
    <input
      id="product-search"
      type="text"
      placeholder="Search products..."
      [(ngModel)]="searchTerm"
      name="search"
      class="w-full md:w-1/2 p-3 border rounded-xl shadow focus:outline-none focus:ring-2 focus:ring-eastlink-blue"
    />
  </form>

  <!--  Error Message -->
  <div *ngIf="errorMessage" class="text-red-600 text-center mb-6 text-lg font-medium">
    {{ errorMessage }}
  </div>

  <!--  Loading Skeleton -->
  <section
    *ngIf="isLoading"
    class="grid gap-8 sm:grid-cols-2 lg:grid-cols-4"
    aria-label="Loading products">
    <article
  *ngFor="let skeleton of [1,2,3,4,5,6,7,8]"
  class="animate-pulse bg-white border rounded-2xl shadow p-4 flex flex-col">

  <!-- Image -->
  <div class="skeleton h-48 w-full rounded-xl mb-4"></div>

  <!-- Product Name -->
  <div class="skeleton h-5 w-3/4 rounded mb-2"></div>

  <!-- Short Description -->
  <div class="skeleton h-4 w-full rounded mb-1"></div>
  <div class="skeleton h-4 w-5/6 rounded mb-4"></div>

  <!-- Price -->
  <div class="skeleton h-5 w-1/3 rounded mt-auto"></div>
</article>
  </section>

  <!-- ðŸ”¹ Product Grid -->
  <section
    *ngIf="!isLoading && !errorMessage"
    class="grid gap-8 sm:grid-cols-2 lg:grid-cols-4"
    role="list">
    <article
      *ngFor="let product of displayedProducts"
      role="listitem"
      tabindex="0"
      class="bg-white border rounded-2xl shadow hover:shadow-lg transition transform hover:-translate-y-1 p-4 flex flex-col cursor-pointer"
      [routerLink]="['/catalogue', product.id]">
      <img
        [src]="product.image"
        [alt]="product.name"
        class="w-full object-cover rounded-xl mb-4" />

      <h3 class="text-lg font-semibold mb-1">{{ product.name }}</h3>
      <p class="text-gray-600 text-sm flex-grow">{{ product.description }}</p>
      <strong class="text-eastlink-blue mt-3">{{ product.price | currency }}</strong>
    </article>
  </section>
</main>
